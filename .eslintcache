[{"/Users/johnnyrbrionesjr./newFantasyStockApp/src/index.js":"1","/Users/johnnyrbrionesjr./newFantasyStockApp/src/App.js":"2","/Users/johnnyrbrionesjr./newFantasyStockApp/src/components/SummaryPage.js":"3","/Users/johnnyrbrionesjr./newFantasyStockApp/src/components/CreateAccount.js":"4","/Users/johnnyrbrionesjr./newFantasyStockApp/src/components/HomePage.js":"5","/Users/johnnyrbrionesjr./newFantasyStockApp/src/components/NavigationBar.js":"6","/Users/johnnyrbrionesjr./newFantasyStockApp/src/components/ReportPage.js":"7","/Users/johnnyrbrionesjr./newFantasyStockApp/src/components/StockModal.js":"8","/Users/johnnyrbrionesjr./newFantasyStockApp/src/components/StockCard.js":"9","/Users/johnnyrbrionesjr./newFantasyStockApp/src/components/ReviewOrder.js":"10"},{"size":218,"mtime":1641092478631,"results":"11","hashOfConfig":"12"},{"size":3266,"mtime":1641092478629,"results":"13","hashOfConfig":"12"},{"size":9220,"mtime":1641092478629,"results":"14","hashOfConfig":"12"},{"size":3835,"mtime":1641092478629,"results":"15","hashOfConfig":"12"},{"size":1123,"mtime":1641092478629,"results":"16","hashOfConfig":"12"},{"size":7493,"mtime":1641092478629,"results":"17","hashOfConfig":"12"},{"size":5511,"mtime":1641092478629,"results":"18","hashOfConfig":"12"},{"size":3545,"mtime":1641092478629,"results":"19","hashOfConfig":"12"},{"size":3975,"mtime":1641092478629,"results":"20","hashOfConfig":"12"},{"size":8095,"mtime":1641092478629,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"10d21c5",{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"24"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"24"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45"},"/Users/johnnyrbrionesjr./newFantasyStockApp/src/index.js",[],["46","47"],"/Users/johnnyrbrionesjr./newFantasyStockApp/src/App.js",[],"/Users/johnnyrbrionesjr./newFantasyStockApp/src/components/SummaryPage.js",["48","49","50"],"import React, { useState, useEffect } from \"react\";\nimport StockCard from \"./StockCard\";\nimport StockModal from \"./StockModal\";\n\n\n\nfunction SummaryPage(props) {\n  const [buyingPower, setBuyingPower] = useState(\"\");\n  const [purchasedStocks, setPurchasedStocks] = useState([]);\n  const [tesla, setTesla] = useState([]);\n  const [apple, setApple] = useState([]);\n  const [amazon, setAmazon] = useState([]);\n  const [microsoft, setMicrosoft] = useState([]);\n  const [stockPrice, setStockPrice] = useState(0);\n  const [stockName, setStockName] = useState(\"\");\n  const [dayChange, setDayChange] = useState(\"\");\n  const [percentageChange, setPercentageChange] = useState(\"\");\n  const [date, setDate] = useState(\"\");\n  const [symbol, setSymbol] = useState(\"\");\n  const [stockId, setStockId] = useState(\"\");\n  const [searchStock, setSearchStock] = useState(\"\");\n  const [accountValue, setAccountValue] = useState(0);\n  const { userId } = props;\n  const { reviewOrderErrors } = props;\n  const { setReviewOrderErrors } = props;\n  // const { user } = props;\n  const { setUser } = props;\n  const { authentication } = props;\n  console.log('ID in summary page', userId)\n\n  useEffect(() => {\n    // const userId = localStorage.getItem('id');\n  \n\n    if (userId) {\n\n      // setBuyingPower(props.buyingPower)\n      fetch(`/api/purchased/${userId}`)\n        .then((res) => res.json())\n        .then((data) => {\n          setPurchasedStocks(JSON.parse(data))})\n        .catch((error) => console.log(error))\n\n      fetch(\"/api/userbalance\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          userId: parseInt(userId),\n        }),\n      })\n        .then((res) => res.json())\n        .then((data) => {\n          console.log(data)\n          setBuyingPower(data)})\n        .catch((error) => console.log(error));\n\n      fetch(\"/api/accountvalue\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          userId: parseInt(userId),\n        }),\n      })\n        .then((res) => res.json())\n        .then((data) => \n        {\n          setAccountValue(data)}\n        )\n        .catch((error) => console.log(error));\n\n      fetch(`/api/allsymbols/${userId}`)\n        .then((res) => res.json())\n        .then((data) => {\n          for (let i = 0; i < data.length; i++) {\n            fetch(`/api/searchStock/${data[i]}`)\n              .then((res) => res.json())\n              .then((data) =>\n                fetch(\"/api/lateststocks\", {\n                  method: \"PUT\",\n                  headers: { \"Content-Type\": \"application/json\" },\n                  body: JSON.stringify({\n                    symbol: data.symbol,\n                    stockPrice: data.latestPrice,\n                    dayChange: data.change,\n                    percentageChange: data.changePercent,\n                    userId: parseInt(userId),\n                  }),\n                })\n              );\n          }\n        })\n        .catch((error) => console.log(error));\n      }\n      getInitialStocks();\n    }, [buyingPower]);\n\n  function getInitialStocks() {\n    fetch('/api/stocks')\n    .then(res => res.json())\n    .then(data => {\n      setTesla(data[0])\n      setAmazon(data[1])\n      setMicrosoft(data[2])\n      setApple(data[3])\n    });\n  }\n  \n  function handleSearch(e) {\n    setSearchStock(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    fetch(`/api/searchStock/${searchStock}`)\n      .then((res) => res.json())\n      .then((data) => setSearchStock(data))\n      .catch((error) => console.log(error));\n  }\n\n  let stocksPurchased = [];\n  for (let i = 0; i < purchasedStocks.length; i++) {\n    stocksPurchased.push(\n      <StockCard\n        key={purchasedStocks[i][0]}\n        stockId={purchasedStocks[i][0]}\n        symbol={purchasedStocks[i][1]}\n        stockName={purchasedStocks[i][2]}\n        price={purchasedStocks[i][3]}\n        dayChange={purchasedStocks[i][4]}\n        percentChange={purchasedStocks[i][5]}\n        time={purchasedStocks[i][6]}\n        shares={purchasedStocks[i][7]}\n        initialPrice={purchasedStocks[i][9].toFixed(2)}\n        setPrice={setStockPrice}\n        setStockName={setStockName}\n        setSymbol={setSymbol}\n        setDate={setDate}\n        setDayChange={setDayChange}\n        setPercentageChange={setPercentageChange}\n        setStockId={setStockId}\n      />\n    );\n  }\n\n  return (\n    <div>\n      <div\n        style={{\n          display: \"grid\",\n          justifyContent: \"flex-start\",\n          marginLeft: \"10px\",\n          borderStyle: \"solid\",\n          width: \"400px\",\n          position: \"relative\",\n          top: \"-70px\",\n          left: \"-10px\",\n        }}\n      >\n        <h3>Buying Power: ${Number(buyingPower).toFixed(2)}</h3>\n        <h3>Account Value: ${Number(accountValue).toFixed(2)}</h3>\n      </div>\n      <p style={{ color: \"red\" }}>{reviewOrderErrors}</p>\n      <form onSubmit={handleSubmit}>\n        <input onChange={handleSearch} placeholder=\"Search\" />\n      </form>\n      <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n        {searchStock.companyName ? (\n          <StockCard\n            symbol={searchStock.symbol}\n            stockName={searchStock.companyName}\n            price={searchStock.latestPrice.toFixed(2)}\n            dayChange={searchStock.change}\n            percentChange={searchStock.changePercent}\n            time={searchStock.latestTime}\n            setPrice={setStockPrice}\n            setStockName={setStockName}\n            setSymbol={setSymbol}\n            setDate={setDate}\n            setDayChange={setDayChange}\n            setPercentageChange={setPercentageChange}\n            setStockId={setStockId}\n          />\n        ) : null}\n      </div>\n      <h1 style={{ fontSize: \"30px\", marginTop: \"15px\" }}> Positions Cards </h1>\n      <header\n        style={{ display: \"flex\", flexWrap: \"wrap\", justifyContent: \"center\" }}\n      >\n        {stocksPurchased}\n      </header>\n      <h1 style={{ fontSize: \"30px\", marginTop: \"15px\" }}> Popular Stocks </h1>\n      <div\n        style={{ display: \"flex\", flexWrap: \"wrap\", justifyContent: \"center\" }}\n      >\n        <StockCard\n          symbol={tesla.symbol}\n          stockName={tesla.companyName}\n          price={\n            tesla.latestPrice ? tesla.latestPrice.toFixed(2) : tesla.latestPrice\n          }\n          dayChange={tesla.change}\n          percentChange={tesla.changePercent}\n          time={tesla.latestTime}\n          setPrice={setStockPrice}\n          setStockName={setStockName}\n          setSymbol={setSymbol}\n          setDate={setDate}\n          setDayChange={setDayChange}\n          setPercentageChange={setPercentageChange}\n          setStockId={setStockId}\n        />\n        <StockCard\n          symbol={amazon.symbol}\n          stockName={amazon.companyName}\n          price={\n            amazon.latestPrice\n              ? amazon.latestPrice.toFixed(2)\n              : amazon.latestPrice\n          }\n          dayChange={amazon.change}\n          percentChange={amazon.changePercent}\n          time={amazon.latestTime}\n          setPrice={setStockPrice}\n          setStockName={setStockName}\n          setSymbol={setSymbol}\n          setDate={setDate}\n          setDayChange={setDayChange}\n          setPercentageChange={setPercentageChange}\n          setStockId={setStockId}\n        />\n        <StockCard\n          symbol={apple.symbol}\n          stockName={apple.companyName}\n          price={\n            apple.latestPrice ? apple.latestPrice.toFixed(2) : apple.latestPrice\n          }\n          dayChange={apple.change}\n          percentChange={apple.changePercent}\n          time={apple.latestTime}\n          setPrice={setStockPrice}\n          setStockName={setStockName}\n          setSymbol={setSymbol}\n          setDate={setDate}\n          setDayChange={setDayChange}\n          setPercentageChange={setPercentageChange}\n          setStockId={setStockId}\n        />\n        <StockCard\n          symbol={microsoft.symbol}\n          stockName={microsoft.companyName}\n          price={\n            microsoft.latestPrice\n              ? microsoft.latestPrice.toFixed(2)\n              : microsoft.latestPrice\n          }\n          dayChange={microsoft.change}\n          percentChange={microsoft.changePercent}\n          time={microsoft.latestTime}\n          setPrice={setStockPrice}\n          setStockName={setStockName}\n          setSymbol={setSymbol}\n          setDate={setDate}\n          setDayChange={setDayChange}\n          setPercentageChange={setPercentageChange}\n          setStockId={setStockId}\n        />\n        <StockModal\n          stockPrice={stockPrice}\n          stockName={stockName}\n          symbol={symbol}\n          dayChange={dayChange}\n          date={date}\n          percentageChange={percentageChange}\n          purchasedStocks={purchasedStocks}\n          setPurchasedStocks={setPurchasedStocks}\n          stockId={stockId}\n          buyingPower={buyingPower}\n          setBuyingPower={setBuyingPower}\n          setAccountValue={setAccountValue}\n          userId={userId}\n          setReviewOrderErrors={setReviewOrderErrors}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default SummaryPage;\n","/Users/johnnyrbrionesjr./newFantasyStockApp/src/components/CreateAccount.js",[],"/Users/johnnyrbrionesjr./newFantasyStockApp/src/components/HomePage.js",[],"/Users/johnnyrbrionesjr./newFantasyStockApp/src/components/NavigationBar.js",[],"/Users/johnnyrbrionesjr./newFantasyStockApp/src/components/ReportPage.js",["51"],"import React, { useEffect, useState } from \"react\";\nfunction ReportPage(props) {\n  const [allSymbols, setAllSymbols] = useState([]);\n  const [numberShares, setNumberShares] = useState([]);\n  // const [totalInvested, setTotalInvested] = useState([]);\n  const [totalPortfolioSum, setTotalPortfolioSum] = useState([]);\n  const [stockReport, setStockReport] = useState([]);\n  const { userId } = props;\n  const [buyingPower, setBuyingPower] = useState(\"\");\n  console.log('User Id in ReportPage', userId)\n\n  useEffect(() => {\n    const abortController = new AbortController()\n    const signal = abortController.signal\n    \n\n    fetch(`/api/allsymbols/${userId}`)\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data)\n        setAllSymbols(data)})\n      .catch((error) => console.log(error));\n    fetch(`/api/shares/${userId}`)\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data)\n        setNumberShares(data)})\n      .catch((error) => console.log(error));\n    fetch(`/api/totalPortfolio/${userId}`, { signal:signal })\n      .then((res) => res.json())\n      .then((data) => setTotalPortfolioSum(JSON.parse(data)))\n      .catch((error) => console.log(error));\n\n    fetch(`/api/stockreport/${userId}`)\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(JSON.parse(data))\n        setStockReport(JSON.parse(data))})\n      .catch((error) => console.log(error));\n      console.log(userId)\n    fetch(\"/api/userbalance\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        userId: parseInt(userId),\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => setBuyingPower(data))\n      .catch((error) => console.log(error));\n\n      return function cleanup() {\n        abortController.abort()\n      }\n  }, [userId]);\n\n  function handleDelete(e) {\n    console.log(e.target.id)\n    const requestOptions = {\n      method: \"DELETE\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        stock_symbol: e.target.id,\n        userId: parseInt(userId),\n      }),\n    };\n    fetch(\"/api/deleteall\", requestOptions).then((res) => {\n      fetch(`/api/allsymbols/${userId}`)\n        .then((res) => res.json())\n        .then((data) => setAllSymbols(data))\n        .catch((error) => console.log(error));\n      fetch(`/api/stockreport/${userId}`)\n        .then((res) => res.json())\n        .then((data) => {\n          console.log(data)\n          setStockReport(JSON.parse(data))})\n        .catch((error) => console.log(error));\n      fetch(`/api/shares/${userId}`)\n        .then((res) => res.json())\n        .then((data) => setNumberShares(data))\n        .catch((error) => console.log(error));\n      fetch(`/api/totalPortfolio/${userId}`)\n        .then((res) => res.json())\n        .then((data) => setTotalPortfolioSum(JSON.parse(data)))\n        .catch((error) => console.log(error));\n\n\n        let amountInvested = -1;\n        for(let i =0; i < stockReport.length; i++){\n          if(stockReport[i][0] === e.target.id) {\n            amountInvested = stockReport[i][2] * stockReport[i][1];\n            break;\n          }\n        }\n        let updatedBalance = Number(Number(buyingPower) + amountInvested).toFixed(2)\n        fetch('/api/boughtstock', {\n          method: 'PUT',\n          headers: { 'Content-Type' : 'application/json' },\n          body: JSON.stringify({\n            userId: parseInt(userId),\n            boughtStock: updatedBalance,\n          })\n        }).catch(error => console.log(error))\n       \n\n        \n      let stockRows = [];\n      for (let i = 0; i < numberShares.length; i++) {\n        stockRows.push(\n          <tr key={i}>\n            <td> {stockReport[i][0]} </td>\n            <td> {stockReport[i][1]} </td>\n            <td> ${(stockReport[i][1] * stockReport[i][2]).toFixed(2)} </td>\n            <td>\n              {\" \"}\n              {((stockReport[i][2] / totalPortfolioSum) * 100).toFixed(\n                2\n              )}%{\" \"}\n            </td>\n            <td>\n              <button\n                id={stockReport[i][0]}\n                type=\"button\"\n                onClick={handleDelete}\n                className=\"btn btn-secondary\"\n              >\n                Sell All\n              </button>\n            </td>\n          </tr>\n        );\n      }\n    });\n  }\n\n\n  let stockRows = [];\n  for (let i = 0; i < stockReport.length; i++) {\n    stockRows.push(\n      <tr key={i}>\n        <td> {stockReport[i][0]} </td>\n        <td> {stockReport[i][1]} </td>\n        <td> ${(stockReport[i][1] * stockReport[i][2]).toFixed(2)} </td>\n        <td>\n          {\" \"}\n          {(((stockReport[i][2] / totalPortfolioSum) * 100) * stockReport[i][1]).toFixed(2)}%{\" \"}\n        </td>\n        <td>\n          <button\n            id={stockReport[i][0]}\n            type=\"button\"\n            onClick={handleDelete}\n            className=\"btn btn-secondary\"\n          >\n            Sell All\n          </button>\n        </td>\n      </tr>\n    );\n  }\n\n  return (\n    <div className=\"App\">\n      <table style={{ color: \"white\" }} className=\"table\">\n        <thead>\n          <tr>\n            <th scope=\"col\">Symbol</th>\n            <th scope=\"col\">Shares</th>\n            <th scope=\"col\">Total Invested</th>\n            <th scope=\"col\"> % of Your Portfolio</th>\n            <th>Quick Sell</th>\n          </tr>\n        </thead>\n        <tbody>{stockRows}</tbody>\n      </table>\n    </div>\n  );\n}\n\nexport default ReportPage;\n","/Users/johnnyrbrionesjr./newFantasyStockApp/src/components/StockModal.js",[],"/Users/johnnyrbrionesjr./newFantasyStockApp/src/components/StockCard.js",[],"/Users/johnnyrbrionesjr./newFantasyStockApp/src/components/ReviewOrder.js",["52","53"],"import React, { useEffect, useState } from \"react\";\n\nfunction ReviewOrder(props) {\n  const { selected } = props;\n  const { quantity } = props;\n  const { stockId } = props;\n  const { purchasedStocks } = props;\n  const { setPurchasedStocks } = props;\n  const { userId } = props;\n  const { buyingPower } = props;\n  const { setBuyingPower } = props;\n  const { setAccountValue } = props;\n  const { setReviewOrderErrors } = props;\n  const [shares, setShares] = useState(\"\");\n\n  console.log('ReviewOrder.js', 'Shares', shares,'Quantity', quantity)\n\n\n  \n  useEffect(() => {\n    for (let i = 0; i < purchasedStocks.length; i++) {\n      if (stockId === purchasedStocks[i][0]) {\n        setShares(purchasedStocks[i][7]);\n      }\n    }\n\n    if (userId) {\n      fetch(`/api/purchased/${userId}`)\n        .then((res) => res.json())\n        .then((data) => setPurchasedStocks(JSON.parse(data)))\n        .catch((error) => console.log(error));\n    }\n\n    fetch(\"/api/accountvalue\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        userId: parseInt(userId),\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setAccountValue(Number((data)) === 0 ? 20000 : (data))})\n      .catch((error) => console.log(error));\n  }, [\n    shares,\n    buyingPower,\n    stockId,\n    userId, \n    quantity,\n    setPurchasedStocks\n  ]);\n\n  async function handlePlaceOrder() {\n    let boughtStock = buyingPower - props.stockSum;\n    // let sellingStock = Number(buyingPower) + props.stockSum;\n\n    if (selected === \"Buy\") {\n      if (props.stockSum > buyingPower) {\n        setReviewOrderErrors('\"You do not have enough buying power!\"');\n      } else {\n        setReviewOrderErrors(\"\");\n        await fetch(\"/api/buystock\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({\n            symbol: props.symbol,\n            stockName: props.stockName,\n            price: props.stockPrice,\n            day_change: props.dayChange,\n            percentage_change: props.percentageChange,\n            date: props.date,\n            shares: parseInt(quantity),\n            userId: parseInt(userId),\n            initialPrice: props.stockPrice,\n          }),\n        })\n          .then(\n            await fetch(`/api/purchased/${userId}`)\n              .then((res) => res.json())\n              .then((data) => props.setPurchasedStocks(JSON.parse(data)))\n              .catch((error) => console.log(error))\n          )\n          .then(\n            await fetch(\"/api/boughtstock\", {\n              method: \"PUT\",\n              headers: { \"Content-Type\": \"application/json\" },\n              body: JSON.stringify({\n                userId: parseInt(userId),\n                boughtStock: boughtStock,\n              }),\n            })\n          )\n          .then(\n            await fetch(\"/api/userbalance\", {\n              method: \"POST\",\n              headers: { \"Content-Type\": \"application/json\" },\n              body: JSON.stringify({\n                userId: parseInt(userId),\n              }),\n            })\n              .then((res) => res.json())\n              .then((data) => setBuyingPower(JSON.parse(data)))\n              .catch((error) => console.log(error))\n          );\n      }\n    } else if (selected === \"Sell\") {\n      // let soldStock = shares - quantity;\n      if (shares == 0) {\n        setReviewOrderErrors(\"You do not own this stock!\");\n      } else {\n        setReviewOrderErrors(\"\");\n        if (quantity > shares) {\n          setReviewOrderErrors(\"You do not have that many shares to sell!\");\n        } else {\n          setReviewOrderErrors(\"\");\n          if (shares - quantity >= 1) {\n            fetch(\"/api/updatestocks\", {\n              method: \"PUT\",\n              headers: { \"Content-Type\": \"application/json\" },\n              body: JSON.stringify({\n                shares: shares - quantity,\n                stock_id: stockId,\n              }),\n            });\n\n            fetch(\"/api/boughtstock\", {\n              method: \"PUT\",\n              headers: { \"Content-Type\": \"application/json\" },\n              body: JSON.stringify({\n                userId: parseInt(userId),\n                boughtStock: Number(buyingPower) + props.stockSum,\n              }),\n            });\n            fetch(\"/api/userbalance\", {\n              method: \"POST\",\n              headers: { \"Content-Type\": \"application/json\" },\n              body: JSON.stringify({\n                userId: parseInt(userId),\n              }),\n            })\n              .then((res) => res.json())\n              .then((data) => setBuyingPower(JSON.parse(data)))\n              .catch((error) => console.log(error));\n          } else {\n            setReviewOrderErrors(\"\");\n            fetch(\"/api/deleterow\", {\n              method: \"DELETE\",\n              headers: { \"Content-Type\": \"application/json\" },\n              body: JSON.stringify({\n                stock_id: stockId,\n              }),\n            }).then(\n              fetch(`/api/purchased/${userId}`)\n                .then((res) => res.json())\n                .then((data) => props.setPurchasedStocks(JSON.parse(data)))\n                .catch((error) => console.log(error))\n            );\n            fetch(\"/api/boughtstock\", {\n              method: \"PUT\",\n              headers: { \"Content-Type\": \"application/json\" },\n              body: JSON.stringify({\n                userId: parseInt(userId),\n                boughtStock: Number(buyingPower) + props.stockSum,\n              }),\n            }).then(\n              fetch(\"/api/userbalance\", {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify({\n                  userId: parseInt(userId),\n                }),\n              })\n                .then((res) => res.json())\n                .then((data) => setBuyingPower(JSON.parse(data)))\n            );\n          }\n        }\n      }\n    }\n  }\n\n  let boughtStock = buyingPower - props.stockSum;\n  let sellingStock = Number(buyingPower) + Number(props.stockSum);\n\n  return (\n    <div>\n      <div\n        id=\"reviewModal\"\n        className=\"modal fade\"\n        role=\"dialog\"\n        style={{ color: \"black\" }}\n      >\n        <div className=\"modal-dialog\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h4 className=\"modal-title\"> Review Order </h4>\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\">\n                &times;\n              </button>\n            </div>\n            <div\n              style={{ display: \"flex\", justifyContent: \"space-around\" }}\n              className=\"modal-body\"\n            >\n              <div style={{ fontSize: \"20px\" }}>\n                <p>\n                  {props.selected} {props.quantity} shares of {props.symbol} (\n                  {props.stockName})\n                </p>\n                <p> Limit at ${props.stockPrice}</p>\n                <p>Estimated Total: ${Number(props.stockSum).toFixed(2)}</p>\n                <p>\n                  {\" \"}\n                  Remaining Buy Power: $\n                  {props.selected === \"Buy\"\n                    ? boughtStock.toFixed(2)\n                    : sellingStock.toFixed(2)}\n                </p>\n              </div>\n            </div>\n            <button\n              type=\"button\"\n              className=\"btn btn-info\"\n              style={{ color: \"black\", fontWeight: \"bolder\" }}\n              onClick={handlePlaceOrder}\n              data-dismiss=\"modal\"\n            >\n              Place Order\n            </button>\n            <div\n              className=\"modal-footer\"\n              style={{ display: \"flex\", justifyContent: \"space-between\" }}\n            >\n              <button\n                type=\"button\"\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ReviewOrder;\n",{"ruleId":"54","replacedBy":"55"},{"ruleId":"56","replacedBy":"57"},{"ruleId":"58","severity":1,"message":"59","line":27,"column":11,"nodeType":"60","messageId":"61","endLine":27,"endColumn":18},{"ruleId":"58","severity":1,"message":"62","line":28,"column":11,"nodeType":"60","messageId":"61","endLine":28,"endColumn":25},{"ruleId":"63","severity":1,"message":"64","line":95,"column":8,"nodeType":"65","endLine":95,"endColumn":21,"suggestions":"66"},{"ruleId":"58","severity":1,"message":"67","line":3,"column":10,"nodeType":"60","messageId":"61","endLine":3,"endColumn":20},{"ruleId":"63","severity":1,"message":"68","line":45,"column":6,"nodeType":"65","endLine":52,"endColumn":4,"suggestions":"69"},{"ruleId":"70","severity":1,"message":"71","line":109,"column":18,"nodeType":"72","messageId":"73","endLine":109,"endColumn":20},"no-native-reassign",["74"],"no-negated-in-lhs",["75"],"no-unused-vars","'setUser' is assigned a value but never used.","Identifier","unusedVar","'authentication' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'userId'. Either include it or remove the dependency array.","ArrayExpression",["76"],"'allSymbols' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'purchasedStocks' and 'setAccountValue'. Either include them or remove the dependency array.",["77"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-global-assign","no-unsafe-negation",{"desc":"78","fix":"79"},{"desc":"80","fix":"81"},"Update the dependencies array to be: [buyingPower, userId]",{"range":"82","text":"83"},"Update the dependencies array to be: [shares, buyingPower, stockId, userId, quantity, setPurchasedStocks, purchasedStocks, setAccountValue]",{"range":"84","text":"85"},[3094,3107],"[buyingPower, userId]",[1296,1393],"[shares, buyingPower, stockId, userId, quantity, setPurchasedStocks, purchasedStocks, setAccountValue]"]