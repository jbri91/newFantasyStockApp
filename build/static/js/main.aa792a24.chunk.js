(this["webpackJsonpstock-app"]=this["webpackJsonpstock-app"]||[]).push([[0],{60:function(e,t,a){},62:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),o=a.n(c),s=(a(60),a(54)),l=a(13),i=a.n(l),u=a(20),m=a(2),d=(a(62),a(37),a(103)),p=a(104),h=a(9),f=a(24),y=a(105),b=a(100),g=a(101),E=a(102);var S=function(e){var t=Object(h.g)(),a=e.setAuthentication,c=e.authentication,o=e.createPassword,s=e.createUsername,l=e.setUserId,i=e.userId,u=Object(n.useState)(""),S=Object(m.a)(u,2),k=S[0],O=S[1],j=Object(n.useState)(""),v=Object(m.a)(j,2),x=v[0],C=v[1],A=Object(n.useState)(!0),P=Object(m.a)(A,2),N=P[0],w=P[1],I=Object(n.useState)(!1),T=Object(m.a)(I,2),B=T[0],J=T[1],F=function(){return J(!B)},D=function(){O(""),C("")};return Object(n.useEffect)((function(){if(s&o){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({usernameCredential:s,password:o})};fetch("/api/username",e)}i>0&&fetch("/api/foundusername",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:parseInt(i)})}).then((function(e){return e.json()})).then((function(e){return O(e)})).catch((function(e){return console.log(e)}))}),[i,o,s]),c?t.push("/summary"):console.log("Please Login"),r.a.createElement("div",{style:{marginBottom:"70px"}},r.a.createElement(d.a,{bg:"dark",variant:"dark"},r.a.createElement(d.a.Brand,{href:"/"},r.a.createElement("img",{src:"data:image/png;base64,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",alt:"Bull Market"})),r.a.createElement(p.a,{className:"mr-auto"},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-evenly"}},r.a.createElement(f.b,{style:{color:"gray"},to:"/",href:"home"},"Home|"),r.a.createElement(f.b,{style:{color:"gray"},to:"/report",href:"reportPage"},"Report|"),r.a.createElement(f.b,{style:{color:"gray"},to:"/summary",href:"summaryPage"},"Summary"))),r.a.createElement("div",{style:{marginRight:"20px"}},c?"Welcome "+(k||s):null),c?r.a.createElement("button",{style:{color:"black"},className:"btn btn-info btn-lg",onClick:function(){a(!1),D(),localStorage.clear()}},"Log Out"):r.a.createElement("button",{onClick:F,style:{color:"black"},className:"btn btn-info btn-lg",href:"#login"},"Login/Register")),r.a.createElement("div",null,r.a.createElement(y.a,{isOpen:B,style:{color:"black"}},r.a.createElement("div",null,r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h4",null," Log in to your account"),r.a.createElement(b.a,{type:"button",className:"close",onClick:F,"data-dismiss":"modal",style:{color:"black",fontWeight:"bold"}},"\xd7")),r.a.createElement(g.a,null,r.a.createElement("div",null,r.a.createElement("input",{placeholder:"User ID",onChange:function(e){O(e.target.value)},value:k}),r.a.createElement("input",{placeholder:"Password",value:x,onChange:function(e){C(e.target.value)},type:"password"}))),r.a.createElement(E.a,{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(b.a,{onClick:F,to:"/createAccount",href:"createAccount",style:{color:"black",backgroundColor:"lightblue",border:"solid",borderColor:"skyblue"}},"Create Account"),N?null:r.a.createElement("div",{style:{fontSize:"13px",color:"red"}},"The username or password is incorrect"),r.a.createElement(b.a,{style:{color:"black",backgroundColor:"lightblue",border:"solid",borderColor:"skyblue"},onClick:function(){fetch("/api/username",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({usernameCredential:k,password:x})}).then((function(e){e.json(),e.ok?(w(!0),fetch("/api/username",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({usernameCredential:k,password:x})}).then((function(e){return e.json()})).then((function(e){console.log("line85 in NavBar",e),a(e[1]),l({id:e[0]>0?e[0]:null})(e[0]>0?localStorage.id=e[0]:null)})).then(fetch("/api/foundusername",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:parseInt(i)})})).then((function(e){return O(e)}),F()).catch((function(e){return console.log(e)}))):(D(),w((function(e){return!1,false})))}))}},"Submit")))))))},k=a.p+"static/media/homepageCoinImage.adcc889c.jpg";var O=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("div",{style:{marginTop:"0px"}},r.a.createElement("h1",null,"Fantasy Stock Application"),r.a.createElement("h4",{style:{marginTop:"30px",wordWrap:"break-word",fontSize:"16px"}},"Welcome to where you can practice how to invest in the stock market before you risk your hard earned cash."),r.a.createElement("img",{style:{borderRadius:"50%",margin:"40px"},src:k,alt:"Homepage Coins"}),r.a.createElement("h5",{style:{marginTop:"30px"}},"\u201cRemember that the stock market is a manic depressive.\u201d - Warren Buffet"),r.a.createElement("a",{style:{color:"black",fontSize:"20px"},href:"https://iexcloud.io"},"Data provided by IEX Cloud"))))};var j=function(e){var t=Object(n.useState)([]),a=Object(m.a)(t,2),c=(a[0],a[1]),o=Object(n.useState)([]),s=Object(m.a)(o,2),l=s[0],i=s[1],u=Object(n.useState)([]),d=Object(m.a)(u,2),p=d[0],h=d[1],f=Object(n.useState)([]),y=Object(m.a)(f,2),b=y[0],g=y[1],E=e.userId,S=Object(n.useState)(""),k=Object(m.a)(S,2),O=k[0],j=k[1];function v(e){var t={method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({stock_symbol:e.target.id,userId:parseInt(E)})};fetch("/api/deleteall",t).then((function(t){fetch("/api/allsymbols/".concat(E)).then((function(e){return e.json()})).then((function(e){return c(e)})).catch((function(e){return console.log(e)})),fetch("/api/stockreport/".concat(E)).then((function(e){return e.json()})).then((function(e){g(JSON.parse(e))})).catch((function(e){return console.log(e)})),fetch("/api/shares/".concat(E)).then((function(e){return e.json()})).then((function(e){return i(e)})).catch((function(e){return console.log(e)})),fetch("/api/totalPortfolio/".concat(E)).then((function(e){return e.json()})).then((function(e){return h(JSON.parse(e))})).catch((function(e){return console.log(e)}));for(var a=-1,n=0;n<b.length;n++)if(b[n][0]===e.target.id){a=b[n][2]*b[n][1];break}var o=Number(Number(O)+a).toFixed(2);fetch("/api/boughtstock",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:parseInt(E),boughtStock:o})}).catch((function(e){return console.log(e)}));for(var s=[],u=0;u<l.length;u++)s.push(r.a.createElement("tr",{key:u},r.a.createElement("td",null," ",b[u][0]," "),r.a.createElement("td",null," ",b[u][1]," "),r.a.createElement("td",null," $",(b[u][1]*b[u][2]).toFixed(2)," "),r.a.createElement("td",null," ",(b[u][2]/p*100).toFixed(2),"%"," "),r.a.createElement("td",null,r.a.createElement("button",{id:b[u][0],type:"button",onClick:v,className:"btn btn-secondary"},"Sell All"))))}))}Object(n.useEffect)((function(){var e=new AbortController,t=e.signal;return fetch("/api/allsymbols/".concat(E)).then((function(e){return e.json()})).then((function(e){c(e)})).catch((function(e){return console.log(e)})),fetch("/api/shares/".concat(E)).then((function(e){return e.json()})).then((function(e){i(e)})).catch((function(e){return console.log(e)})),fetch("/api/totalPortfolio/".concat(E),{signal:t}).then((function(e){return e.json()})).then((function(e){return h(JSON.parse(e))})).catch((function(e){return console.log(e)})),fetch("/api/stockreport/".concat(E)).then((function(e){return e.json()})).then((function(e){g(JSON.parse(e))})).catch((function(e){return console.log(e)})),fetch("/api/userbalance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:parseInt(E)})}).then((function(e){return e.json()})).then((function(e){return j(e)})).catch((function(e){return console.log(e)})),function(){e.abort()}}),[E]);for(var x=[],C=0;C<b.length;C++)x.push(r.a.createElement("tr",{key:C},r.a.createElement("td",null," ",b[C][0]," "),r.a.createElement("td",null," ",b[C][1]," "),r.a.createElement("td",null," $",(b[C][1]*b[C][2]).toFixed(2)," "),r.a.createElement("td",null," ",(b[C][2]/p*100*b[C][1]).toFixed(2),"%"," "),r.a.createElement("td",null,r.a.createElement("button",{id:b[C][0],type:"button",onClick:v,className:"btn btn-secondary"},"Sell All"))));return r.a.createElement("div",{className:"App"},r.a.createElement("table",{style:{color:"white"},className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Symbol"),r.a.createElement("th",{scope:"col"},"Shares"),r.a.createElement("th",{scope:"col"},"Total Invested"),r.a.createElement("th",{scope:"col"}," % of Your Portfolio"),r.a.createElement("th",null,"Quick Sell"))),r.a.createElement("tbody",null,x)))},v=a(53),x=a.n(v),C=function(e){var t=e.type,a=e.color;return r.a.createElement(x.a,{type:t,color:a,height:"10%",width:"10%"})},A=a(106);var P=function(e){var t,a=e.price,n=e.stockName,c=e.symbol,o=e.time,s=e.dayChange,l=e.percentChange,i=e.stockId,u=e.shares,m=e.initialPrice;return r.a.createElement("div",null,r.a.createElement(A.a,{style:{width:"18rem",height:"12rem",margin:"20px"}},r.a.createElement(A.a.Header,{style:{color:"black",fontWeight:"bold",display:"flex",justifyContent:"space-between",height:"3rem",fontSize:"16px",textDecoration:"underline"}},r.a.createElement("p",null,e.symbol),r.a.createElement("p",{type:"button","data-toggle":"modal","data-target":"#stockModal",onClick:function(){e.setPrice(a),e.setStockName(n),e.setSymbol(c),e.setDayChange(s),e.setPercentageChange(l),e.setDate(o),e.setStockId(i)}},"Trade")),r.a.createElement(A.a.Body,null,r.a.createElement(A.a.Text,{style:{fontSize:"12px",color:"gray",textDecoration:"underline",display:"flex",justifyContent:"left"}}," ",e.stockName,r.a.createElement(A.a.Text,{style:{marginLeft:"5px"}},m?"Cost $"+m:null)),r.a.createElement("div",{style:{display:"grid",justifyContent:"left"}},r.a.createElement("div",{style:{color:"gray",display:"flex",flexDirection:"row",justifyContent:"space-between"}},r.a.createElement(A.a.Text,{style:{display:"flex",fontSize:"12px",marginBottom:"0px"}}," ","Price"," "),r.a.createElement(A.a.Text,{style:{fontSize:"12px",color:"gray"}}," ","Day's change")),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:"10px"}},r.a.createElement(A.a.Text,{style:{fontSize:"14px",fontWeight:"bold",color:"black",marginRight:"15px",marginBottom:"0px"}}," ","$",e.price," "),r.a.createElement(A.a.Text,{style:e.dayChange>=0?{fontSize:"12px",fontWeight:"bold",color:"green"}:{fontSize:"12px",fontWeight:"bold",color:"red"}}," ",e.dayChange," (",null===(t=e.percentChange)||void 0===t?void 0:t.toFixed(2),"%)"," "))),r.a.createElement(A.a.Text,{style:{fontSize:"12px",fontWeight:"bold",color:"gray",display:"flex"}},e.time,r.a.createElement("span",{style:{marginLeft:"100px"}},u?u+" Shares":null)))))};var N=function(e){var t=e.selected,a=e.quantity,c=e.stockId,o=e.purchasedStocks,s=e.setPurchasedStocks,l=e.userId,d=e.buyingPower,p=e.setBuyingPower,h=e.setAccountValue,f=e.setReviewOrderErrors,y=Object(n.useState)(""),b=Object(m.a)(y,2),g=b[0],E=b[1];function S(){return(S=Object(u.a)(i.a.mark((function n(){var r;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=d-e.stockSum,"Buy"!==t){n.next=23;break}if(!(e.stockSum>d)){n.next=6;break}f('"You do not have enough buying power!"'),n.next=21;break;case 6:return f(""),n.t2=fetch("/api/buystock",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbol:e.symbol,stockName:e.stockName,price:e.stockPrice,day_change:e.dayChange,percentage_change:e.percentageChange,date:e.date,shares:parseInt(a),userId:parseInt(l),initialPrice:e.stockPrice})}),n.next=10,fetch("/api/purchased/".concat(l)).then((function(e){return e.json()})).then((function(t){return e.setPurchasedStocks(JSON.parse(t))})).catch((function(e){return console.log(e)}));case 10:return n.t3=n.sent,n.t1=n.t2.then.call(n.t2,n.t3),n.next=14,fetch("/api/boughtstock",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:parseInt(l),boughtStock:r})});case 14:return n.t4=n.sent,n.t0=n.t1.then.call(n.t1,n.t4),n.next=18,fetch("/api/userbalance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:parseInt(l)})}).then((function(e){return e.json()})).then((function(e){return p(JSON.parse(e))})).catch((function(e){return console.log(e)}));case 18:return n.t5=n.sent,n.next=21,n.t0.then.call(n.t0,n.t5);case 21:n.next=24;break;case 23:"Sell"===t&&(0==g?f("You do not own this stock!"):(f(""),a>g?f("You do not have that many shares to sell!"):(f(""),g-a>=1?(fetch("/api/updatestocks",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({shares:g-a,stock_id:c})}),fetch("/api/boughtstock",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:parseInt(l),boughtStock:Number(d)+e.stockSum})}),fetch("/api/userbalance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:parseInt(l)})}).then((function(e){return e.json()})).then((function(e){return p(JSON.parse(e))})).catch((function(e){return console.log(e)}))):(f(""),fetch("/api/deleterow",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({stock_id:c})}).then(fetch("/api/purchased/".concat(l)).then((function(e){return e.json()})).then((function(t){return e.setPurchasedStocks(JSON.parse(t))})).catch((function(e){return console.log(e)}))),fetch("/api/boughtstock",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:parseInt(l),boughtStock:Number(d)+e.stockSum})}).then(fetch("/api/userbalance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:parseInt(l)})}).then((function(e){return e.json()})).then((function(e){return p(JSON.parse(e))})))))));case 24:case"end":return n.stop()}}),n)})))).apply(this,arguments)}Object(n.useEffect)((function(){for(var e=0;e<o.length;e++)c===o[e][0]&&E(o[e][7]);l&&fetch("/api/purchased/".concat(l)).then((function(e){return e.json()})).then((function(e){return s(JSON.parse(e))})).catch((function(e){return console.log(e)})),fetch("/api/accountvalue",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:parseInt(l)})}).then((function(e){return e.json()})).then((function(e){h(0===Number(e)?2e4:e)})).catch((function(e){return console.log(e)}))}),[g,d,c,l,a,s]);var k=d-e.stockSum,O=Number(d)+Number(e.stockSum);return r.a.createElement("div",null,r.a.createElement("div",{id:"reviewModal",className:"modal fade",role:"dialog",style:{color:"black"}},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h4",{className:"modal-title"}," Review Order "),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},"\xd7")),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"},className:"modal-body"},r.a.createElement("div",{style:{fontSize:"20px"}},r.a.createElement("p",null,e.selected," ",e.quantity," shares of ",e.symbol," (",e.stockName,")"),r.a.createElement("p",null," Limit at $",e.stockPrice),r.a.createElement("p",null,"Estimated Total: $",Number(e.stockSum).toFixed(2)),r.a.createElement("p",null," ","Remaining Buy Power: $","Buy"===e.selected?k.toFixed(2):O.toFixed(2)))),r.a.createElement("button",{type:"button",className:"btn btn-info",style:{color:"black",fontWeight:"bolder"},onClick:function(){return S.apply(this,arguments)},"data-dismiss":"modal"},"Place Order"),r.a.createElement("div",{className:"modal-footer",style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},"Close"))))))};var w=function(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(""),l=Object(m.a)(s,2),i=l[0],u=l[1],d=Object(n.useState)([]),p=Object(m.a)(d,2),h=p[0],f=p[1],y=e.userId,b=e.setReviewOrderErrors,g=e.setAccountValue;return r.a.createElement("div",{id:"stockModal",className:"modal fade",role:"dialog",style:{color:"black"}},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h4",{className:"modal-title"}," Buy/Sell Stock"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},"\xd7")),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"},className:"modal-body"},r.a.createElement("div",null,r.a.createElement("p",{style:{marginBottom:"0px"}},"Action"),r.a.createElement("select",{name:"trade",id:"trade",value:c,onChange:function(e){o(e.target.value)}},r.a.createElement("option",{value:"Select"}," --Select-- "),r.a.createElement("option",{value:"Buy"}," Buy "),r.a.createElement("option",{value:"Sell"}," Sell "))),r.a.createElement("div",null,r.a.createElement("p",{style:{marginBottom:"0px"}},"Quanity"),r.a.createElement("input",{type:"number",style:{width:"100px",height:"32px"},onChange:function(e){u(e.target.value)}}))),r.a.createElement("button",{type:"button",className:"btn btn-info",style:{color:"black",fontWeight:"bolder"},"data-toggle":"modal","data-target":"#reviewModal",onClick:function(){if(i<=0||""===c||"Select"===c);else{var t=e.stockPrice*i;f(t)}}},"Review Order"),r.a.createElement("div",{className:"modal-footer",style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},"Close")))),r.a.createElement(N,{stockSum:h,stockPrice:e.stockPrice,stockName:e.stockName,symbol:e.symbol,stockId:e.stockId,dayChange:e.dayChange,percentageChange:e.percentageChange,date:e.date,quantity:i,setQuantity:u,selected:c,purchasedStocks:e.purchasedStocks,setPurchasedStocks:e.setPurchasedStocks,buyingPower:e.buyingPower,setBuyingPower:e.setBuyingPower,setAccountValue:g,userId:y,setReviewOrderErrors:b}))};var I=function(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)([]),l=Object(m.a)(s,2),d=l[0],p=l[1],h=Object(n.useState)([]),f=Object(m.a)(h,2),y=f[0],b=f[1],g=Object(n.useState)([]),E=Object(m.a)(g,2),S=E[0],k=E[1],O=Object(n.useState)([]),j=Object(m.a)(O,2),v=j[0],x=j[1],A=Object(n.useState)([]),N=Object(m.a)(A,2),I=N[0],T=N[1],B=Object(n.useState)(0),J=Object(m.a)(B,2),F=J[0],D=J[1],W=Object(n.useState)(""),Y=Object(m.a)(W,2),R=Y[0],L=Y[1],U=Object(n.useState)(""),X=Object(m.a)(U,2),z=X[0],H=X[1],Z=Object(n.useState)(""),Q=Object(m.a)(Z,2),M=Q[0],q=Q[1],V=Object(n.useState)(""),G=Object(m.a)(V,2),K=G[0],$=G[1],_=Object(n.useState)(""),ee=Object(m.a)(_,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(""),re=Object(m.a)(ne,2),ce=re[0],oe=re[1],se=Object(n.useState)(""),le=Object(m.a)(se,2),ie=le[0],ue=le[1],me=Object(n.useState)(0),de=Object(m.a)(me,2),pe=de[0],he=de[1],fe=e.userId,ye=e.reviewOrderErrors,be=e.setReviewOrderErrors,ge=Object(n.useState)(!0),Ee=Object(m.a)(ge,2),Se=Ee[0],ke=Ee[1];Object(n.useEffect)((function(){fe&&Oe(fe)}),[c]);for(var Oe=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,n,r,c,s,l,u,m,d,h,f;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/allsymbols/".concat(t));case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,r=0;case 8:if(!(r<n.length)){e.next=21;break}return e.next=11,fetch("/api/searchStock/".concat(n[r]));case 11:return c=e.sent,e.next=14,c.json();case 14:return s=e.sent,e.next=17,fetch("/api/lateststocks",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbol:s.symbol,stockPrice:s.latestPrice,dayChange:s.change,percentageChange:s.changePercent,userId:parseInt(t)})});case 17:e.sent;case 18:r++,e.next=8;break;case 21:return e.next=23,fetch("/api/purchased/".concat(t));case 23:return l=e.sent,e.next=26,l.json();case 26:return u=e.sent,p(JSON.parse(u)),e.next=30,fetch("/api/userbalance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:parseInt(t)})});case 30:return m=e.sent,e.next=33,m.json();case 33:return d=e.sent,o(d),e.next=37,fetch("/api/accountvalue",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:parseInt(t)})});case 37:return h=e.sent,e.next=40,h.json();case 40:f=e.sent,he(f),je(),e.next=48;break;case 45:e.prev=45,e.t0=e.catch(0),console.log(e.t0);case 48:setTimeout((function(){ke(!1)}),2e3);case 49:case"end":return e.stop()}}),e,null,[[0,45]])})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(u.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/stocks");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,b(a[0]),x(a[1]),T(a[2]),k(a[3]);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=[],xe=0;xe<d.length;xe++)ve.push(r.a.createElement(P,{key:d[xe][0],stockId:d[xe][0],symbol:d[xe][1],stockName:d[xe][2],price:d[xe][3],dayChange:d[xe][4],percentChange:d[xe][5],time:d[xe][6],shares:d[xe][7],initialPrice:d[xe][9].toFixed(2),setPrice:D,setStockName:L,setSymbol:ae,setDate:$,setDayChange:H,setPercentageChange:q,setStockId:oe}));return r.a.createElement("div",null,r.a.createElement("div",{style:{display:"grid",justifyContent:"flex-start",marginLeft:"10px",borderStyle:"solid",width:"400px",position:"relative",top:"-70px",left:"-10px"}},r.a.createElement("h3",null,"Buying Power: $",Number(c).toFixed(2)),r.a.createElement("h3",null,"Account Value: $",Number(pe).toFixed(2))),r.a.createElement("p",{style:{color:"red"}},ye),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),fetch("/api/searchStock/".concat(ie)).then((function(e){return e.json()})).then((function(e){return ue(e)})).catch((function(e){return console.log(e)}))}},r.a.createElement("input",{onChange:function(e){ue(e.target.value)},placeholder:"Search"})),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},ie.companyName?r.a.createElement(P,{symbol:ie.symbol,stockName:ie.companyName,price:ie.latestPrice.toFixed(2),dayChange:ie.change,percentChange:ie.changePercent,time:ie.latestTime,setPrice:D,setStockName:L,setSymbol:ae,setDate:$,setDayChange:H,setPercentageChange:q,setStockId:oe}):null),r.a.createElement("h1",{style:{fontSize:"30px",marginTop:"15px"}}," Positions Cards "),r.a.createElement("header",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center"}},ve),r.a.createElement("h1",{style:{fontSize:"30px",marginTop:"15px"}}," Popular Stocks "),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",paddingTop:"15px"}},Se?r.a.createElement(C,{color:"gray",type:"spokes"}):r.a.createElement("container",{style:{display:"flex"}},r.a.createElement(P,{symbol:y.symbol,stockName:y.companyName,price:y.latestPrice?y.latestPrice.toFixed(2):y.latestPrice,dayChange:y.change,percentChange:y.changePercent,time:y.latestTime,setPrice:D,setStockName:L,setSymbol:ae,setDate:$,setDayChange:H,setPercentageChange:q,setStockId:oe}),r.a.createElement(P,{symbol:v.symbol,stockName:v.companyName,price:v.latestPrice?v.latestPrice.toFixed(2):v.latestPrice,dayChange:v.change,percentChange:v.changePercent,time:v.latestTime,setPrice:D,setStockName:L,setSymbol:ae,setDate:$,setDayChange:H,setPercentageChange:q,setStockId:oe}),r.a.createElement(P,{symbol:S.symbol,stockName:S.companyName,price:S.latestPrice?S.latestPrice.toFixed(2):S.latestPrice,dayChange:S.change,percentChange:S.changePercent,time:S.latestTime,setPrice:D,setStockName:L,setSymbol:ae,setDate:$,setDayChange:H,setPercentageChange:q,setStockId:oe}),r.a.createElement(P,{symbol:I.symbol,stockName:I.companyName,price:I.latestPrice?I.latestPrice.toFixed(2):I.latestPrice,dayChange:I.change,percentChange:I.changePercent,time:I.latestTime,setPrice:D,setStockName:L,setSymbol:ae,setDate:$,setDayChange:H,setPercentageChange:q,setStockId:oe}),r.a.createElement(w,{stockPrice:F,stockName:R,symbol:te,dayChange:z,date:K,percentageChange:M,purchasedStocks:d,setPurchasedStocks:p,stockId:ce,buyingPower:c,setBuyingPower:o,setAccountValue:he,userId:fe,setReviewOrderErrors:be}))))},T=a(27),B=a.n(T);var J=function(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(""),l=Object(m.a)(s,2),d=l[0],p=l[1],h=Object(n.useState)(""),f=Object(m.a)(h,2),y=f[0],b=f[1],g=Object(n.useState)(""),E=Object(m.a)(g,2),S=E[0],k=E[1],O=Object(n.useState)(""),j=Object(m.a)(O,2),v=j[0],x=j[1],C=Object(n.useState)(""),A=Object(m.a)(C,2),P=A[0],N=A[1],w=Object(n.useState)(""),I=Object(m.a)(w,2),T=I[0],J=I[1],F=e.setAuthentication;function D(){return(D=Object(u.a)(i.a.mark((function e(t){var a,n,o,s,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=function(){var e=d,t=new RegExp(/[0-9]/).test(e);c&&d?(J(""),d.length,t?(N(""),k(""),N(v===d?"":r.a.createElement("p",{style:{fontSize:"15px",color:"red",marginRight:"30px"}},"Password does not match"))):k(r.a.createElement("ul",{style:{fontSize:"15px",color:"red",marginRight:"30px"}},r.a.createElement("li",null,"Password must be 8 or more characters"),r.a.createElement("li",null,"Password must have atleast one uppercase letter"),r.a.createElement("li",null,"Password must have atleast one Number")))):J(r.a.createElement("p",{style:{fontSize:"15px",color:"red",marginRight:"30px"}},"Please Fill In All Fields"))},c||d){e.next=4;break}return e.abrupt("return",a());case 4:return e.prev=4,n={username:c,password:d},e.next=8,B.a.post("/api/createaccount",n);case 8:o=e.sent,s=o.data,l=JSON.parse(s),console.log("Credential data",l),localStorage.setItem("id",l.id),F(!0),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),b(e.t0);case 19:case"end":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}return r.a.createElement("div",{style:{border:"15px solid grey",width:"400px",padding:"50px",margin:"0 auto",display:"flex"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("h1",{className:"display-6",style:{marginBottom:"70px"}},"Create An Account"),r.a.createElement("form",{onSubmit:function(e){return D.apply(this,arguments)}},T,r.a.createElement("input",{required:!0,className:"form-control",onChange:function(e){return o(e.target.value)},style:{marginBottom:"20px"},placeholder:"Username"}),y?r.a.createElement("p",{style:{fontSize:"15px",color:"red"}},"Username is already taken"):null,r.a.createElement("input",{required:!0,className:"form-control",onChange:function(e){return p(e.target.value)},type:"password",style:{marginBottom:"20px"},placeholder:"Password"}),r.a.createElement("input",{required:!0,className:"form-control",onChange:function(e){return x(e.target.value)},type:"password",style:{marginBottom:"20px"},placeholder:"Re-type Password"}),P,S,r.a.createElement("button",{type:"submit",className:"btn btn-info"},"Create Account"))))},F=["children"];var D=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),l=Object(m.a)(o,2),d=l[0],p=l[1],y=Object(n.useState)({id:"",username:"",password:"",buyingPower:0}),b=Object(m.a)(y,2),g=b[0],E=b[1],k=g.id,v=g.buyingPower;Object(n.useEffect)((function(){x()}),[k,a]);var x=function(){var e=Object(u.a)(i.a.mark((function e(){var t,a,n,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("id"),a={userId:t},!(t>0)){e.next=10;break}return e.next=5,B.a.post("/api/credentials",a);case 5:n=e.sent,r=n.data,o=JSON.parse(r),E({id:o[0],username:o[1],password:o[2],buyingPower:o[3]}),c(!0);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=a;function A(e){var t=e.children,a=Object(s.a)(e,F);return r.a.createElement(h.b,Object.assign({},a,{render:function(){return!0===C?t:r.a.createElement(h.a,{to:"/"})}}))}return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(f.a,null,r.a.createElement(S,{user:g,userId:k,setUserId:E,setAuthentication:c,authentication:a}),r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/",component:O,exact:!0}),r.a.createElement(A,{path:"/report"},r.a.createElement(j,{userId:k})),r.a.createElement(A,{path:"/summary"},r.a.createElement(I,{buyingPower:v,authentication:a,setUser:E,userId:k,reviewOrderErrors:d,setReviewOrderErrors:p})),r.a.createElement(h.b,{path:"/createAccount",render:function(e){return r.a.createElement(J,{setAuthentication:c,authentication:a})}})))))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.aa792a24.chunk.js.map